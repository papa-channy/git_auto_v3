diff --git a/scripts/upload.py b/scripts/upload.py
index ee018e1..aeeef53 100644
--- a/scripts/upload.py
+++ b/scripts/upload.py
@@ -1,115 +1,78 @@
-import subprocess
-import json
 from pathlib import Path
-from datetime import datetime
-from notify import discord, gmail, kakao, slack
-from record import notion, google_drive
+import json
+from collections import defaultdict
+from utils.cfg import cfg
+from scripts.dataframe import load_df
+from scripts.classify import classify_main
+from scripts.upload_utils import get_file_path, do_git_commit, send_notification
+from scripts.ext_info import to_safe_filename
+import record.notion as notion
 
-def get_repo_name():
-    import subprocess
-    try:
-        url = subprocess.run("git config --get remote.origin.url", shell=True, capture_output=True, text=True).stdout.strip()
-        repo = url.rstrip(".git").split("/")[-1] if url else "Unknown"
-        return repo.replace("-", " ").title()
-    except Exception:
-        return "Unknown Repo"
+def upload_main():
+    timestamp = cfg.get_timestamp()  # âœ… ê³ ì •ê°’ ì‚¬ìš©
+    log_file = cfg.init_log_file(timestamp)
+    paths = cfg.get_results_path(timestamp)
 
-def log(message: str, log_file: Path):
-    with log_file.open("a", encoding="utf-8") as f:
-        f.write(f"[{datetime.now().strftime('%H:%M:%S')}] {message}\n")
+    strategy_df = load_df(paths["strategy"])
+    if strategy_df is None or strategy_df.empty:
+        cfg.log("âŒ strategy_df ì—†ìŒ â†’ ì—…ë¡œë“œ ì¤‘ë‹¨", log_file)
+        return
 
-def do_git_commit(file_path: str, commit_msg: str) -> bool:
-    try:
-        # FILEë³„ ì»¤ë°‹: í•´ë‹¹ FILEë§Œ add
-        subprocess.run(["git", "add", file_path], check=True)
-        subprocess.run(["git", "commit", "-m", commit_msg], check=True)
-        subprocess.run(["git", "push"], check=True)
-        return True
-    except subprocess.CalledProcessError:
-        return False
+    result = classify_main()
+    commit_msgs = result["commit"]
+    fx_summary = result["fx_summary"]
+    notify = result["notify"]
 
-def send_notification(platforms: list, message: str, log_func):
-    for platform in platforms:
-        try:
-            if platform == "discord":
-                discord.send(message)
-            elif platform == "gmail":
-                gmail.send(message)
-            elif platform == "kakao":
-                kakao.send(message)
-            elif platform == "slack":
-                slack.send(message)
-        except Exception as e:
-            log_func(f"[ERROR] {platform} ì•Œë¦¼ ì‹¤íŒ¨: {e}")
+    strategy_map = strategy_df.set_index("File").to_dict(orient="index")
+    commit_result = {}
+    commit_groups = {"success": [], "fallback": [], "fail": []}
 
-def write_records(platforms: list, message: str, log_func):
-    repo_name = get_repo_name()
-    for platform in platforms:
-        try:
-            if platform == "notion":
-                notion.upload_date_based_record("", "", message)
-            elif platform == "google_drive":
-                google_drive.send(message)
-            elif platform == "slack":
-                slack.send(message)
-        except Exception as e:
-            log_func(f"[ERROR] {platform} ê¸°ë¡ ì‹¤íŒ¨: {e}")
+    for file in strategy_df["File"]:
+        row = strategy_map.get(file)
+        if not row:
+            cfg.log(f"âš ï¸ strategy_dfì— {file} ì—†ìŒ", log_file)
+            commit_result[file] = "âŒ"
+            commit_groups["fail"].append(file)
+            continue
 
-def upload_main(timestamp: str, log_file: Path):
-    # í´ë”: logs/{timestamp}
-    log_dir = Path(f"logs/{timestamp}")
+        filepath = Path(row["path"]) / to_safe_filename(file)
 
-    # ì»¤ë°‹ ë©”ì‹œì§€ ì²˜ë¦¬: commit_out_*.txt
-    commit_files = list(log_dir.glob("commit_out_*.txt"))
-    commit_results = {}
-    commit_msgs = []
+        if file in commit_msgs:
+            msg = commit_msgs[file]
+            success = do_git_commit(filepath, msg, lambda m: cfg.log(m, log_file))
+            commit_result[file] = "âœ…" if success else "âŒ"
+            commit_groups["success" if success else "fail"].append(file)
+        else:
+            dummy_msg = f"chore(auto): {file} ë³€ê²½ì‚¬í•­ (no LLM commit message)"
+            success = do_git_commit(filepath, dummy_msg, lambda m: cfg.log(m, log_file))
+            commit_result[file] = "âš ï¸ fallback" if success else "âŒ"
+            commit_groups["fallback" if success else "fail"].append(file)
 
-    for file in commit_files:
-        # key: FILEëª…ë§Œ (ì ‘ë‘ì–´ ì œê±°)
-        key = file.name.replace("commit_out_", "").replace(".txt", "")
-        commit_msg = file.read_text(encoding="utf-8").strip()
-        # FILE ê²½ë¡œ ì²˜ë¦¬: ì—¬ê¸°ì„  ê°„ë‹¨íˆ keyë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš© (í•„ìš” ì‹œ ì‹¤ì œ ê²½ë¡œë¡œ í™•ì¥)
-        file_path = key  
-        success = do_git_commit(file_path, commit_msg)
-        commit_results[key] = "Success" if success else "Failure"
-        commit_msgs.append(f"{key}: {commit_msg}")
+    cfg.log(f"âœ… Git ì»¤ë°‹ ê²°ê³¼ ìš”ì•½:\n{json.dumps(commit_result, ensure_ascii=False, indent=2)}", log_file)
 
-    # ì•Œë¦¼ ë©”ì‹œì§€ êµ¬ì„±
-    summary_msg = f"ì»¤ë°‹ íŒŒì´í”„ë¼ì¸ ê²°ê³¼: {json.dumps(commit_results, ensure_ascii=False)}"
-    cost_summary = "ğŸ’¸ ì´ ë¹„ìš©: ê³„ì‚° ì™„ë£Œ"  # ì‹¤ì œ ë¹„ìš©ì€ cost_calc ëª¨ë“ˆì—ì„œ ë°›ì•„ì˜¤ê¸°
-    review_path = Path("results/manual_review.json")
-    review_files = []
-    if review_path.exists():
-        try:
-            review_files = json.loads(review_path.read_text(encoding="utf-8"))
-        except Exception:
-            review_files = []
-    notify_msg = (
-        f"{summary_msg}\n"
-        f"ì»¤ë°‹ ë©”ì‹œì§€:\n" + "\n".join(commit_msgs) + "\n"
-        f"{cost_summary}\n"
-        f"ì¤‘ìš”ë„ 9 ì´ìƒ FILE: {review_files}"
+    notify_text = (
+        f"{notify['summary']}\n\nğŸ“Œ ë¹„ìš© ìš”ì•½: {notify['cost_total']}\n"
+        + "\n".join(notify["commits"][:5])
     )
+    if commit_groups["fail"]:
+        notify_text += f"\nğŸš« ì»¤ë°‹ ì‹¤íŒ¨ íŒŒì¼: {', '.join(commit_groups['fail'])}"
+    if commit_groups["fallback"]:
+        notify_text += f"\nâš ï¸ ë©”ì‹œì§€ ì—†ì´ ì»¤ë°‹ëœ íŒŒì¼: {', '.join(commit_groups['fallback'])}"
+    if notify.get("review_files"):
+        notify_text += f"\nğŸ§ ìˆ˜ë™ ê²€í†  ëŒ€ìƒ: {', '.join(notify['review_files'])}"
 
-    # ê¸°ë¡ ë©”ì‹œì§€ ì²˜ë¦¬: fx_out_*.txt
-    record_files = list(log_dir.glob("fx_out_*.txt"))
-    record_msgs = {}
-    for file in record_files:
-        key = file.name.replace("fx_out_", "").replace(".txt", "")
-        record_msgs[key] = file.read_text(encoding="utf-8")
-
-    # ë¡œê·¸ ì—…ë¡œë“œ ë©”ì‹œì§€ ê¸°ë¡
-    log(f"âœ… ì—…ë¡œë“œ: {notify_msg}", log_file)
-    send_notification(["kakao", "discord", "gmail", "slack"], notify_msg, lambda m: log(m, log_file))
+    send_notification(["kakao", "slack", "discord", "gmail"], notify_text, lambda m: cfg.log(m, log_file))
 
-    # ê° FILEë³„ ê¸°ë¡ ë©”ì‹œì§€ ì—…ë¡œë“œ
-    for key, msg in record_msgs.items():
-        write_records(["notion", "google_drive", "slack"], msg, lambda m: log(m, log_file))
+    notion_failures = []
+    for file, text in fx_summary.items():
+        try:
+            notion.upload_fx_record(file, text)
+        except Exception as e:
+            notion_failures.append(file)
+            cfg.log(f"[NOTION] {file} ì—…ë¡œë“œ ì‹¤íŒ¨: {e}", log_file)
 
-    log("âœ… ì—…ë¡œë“œ ì²˜ë¦¬ ì™„ë£Œ", log_file)
+    if notion_failures:
+        cfg.log(f"[NOTION] ì—…ë¡œë“œ ì‹¤íŒ¨ íŒŒì¼ ëª©ë¡: {notion_failures}", log_file)
+        notify_text += f"\nğŸ“­ Notion ì—…ë¡œë“œ ì‹¤íŒ¨: {', '.join(notion_failures)}"
 
-if __name__ == "__main__":
-    # timestampëŠ” runall.pyì—ì„œ ìƒì„±í•œ ê°’ì„ ì‚¬ìš© (ì˜ˆì‹œë¡œ ê³ ì •)
-    timestamp = "250514_1234"  # ì‹¤ì œ ì‚¬ìš© ì‹œ ë™ì ìœ¼ë¡œ ë°›ì•„ì˜¤ê¸°
-    log_file = Path(f"logs/{timestamp}/trigger.log")
-    upload_main(timestamp, log_file)
+    cfg.log("âœ… ì „ì²´ ì—…ë¡œë“œ ì™„ë£Œ", log_file)