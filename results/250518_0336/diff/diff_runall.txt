diff --git a/runall.py b/runall.py
index 693f5e6..bfd8961 100644
--- a/runall.py
+++ b/runall.py
@@ -1,73 +1,104 @@
-from datetime import datetime
-from pathlib import Path
-
+# runall.py (ì¤‘ë³µ load_df ì œê±° ìµœì¢… ì™„ì„±ë³¸)
+import sys
+from utils.cfg import cfg
+from scripts.dataframe import load_df
 from scripts.ext_info import extract_all_info
 from scripts.mm_gen import mm_gen_main
+from scripts.fst_mapper import fst_mapper_main
 from scripts.fx_elab import fx_elab_main
 from scripts.gen_msg import gen_msg_main
-from scripts.cost_calc import calculate_llm_costs_from_df
-from scripts.classify import classify_main
 from scripts.upload import upload_main
-# ë¡œê·¸ ê¸°ë¡ í•¨ìˆ˜
-def log(msg, log_file):
-    with open(log_file, "a", encoding="utf-8") as f:
-        f.write(f"[{datetime.now().strftime('%H:%M:%S')}] {msg}\n")
 
-def run_all():
-    timestamp = datetime.now().strftime("%y%m%d_%H%M")
-    log_dir = Path(f"logs/{timestamp}")
-    log_dir.mkdir(parents=True, exist_ok=True)
-    log_file = log_dir / "trigger.log"
 
-    try:
-        log("ğŸ“ 1. ë³€ê²½ FILE ë° ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ì‹œì‘", log_file)
-        extract_all_info()
-        log("âœ… 1. ext_info ì™„ë£Œ", log_file)
-    except Exception as e:
-        log(f"âŒ ext_info ì‹¤íŒ¨: {e}", log_file)
+class RunAllPipeline:
+    def __init__(self):
+        self.timestamp = cfg.get_timestamp()
+        self.paths = cfg.get_results_path(self.timestamp)
+        self.log_file = cfg.init_log_file(self.timestamp)
+        self.strategy_df = None
+        cfg.log(f"ğŸš€ RunAll ì‹œì‘: {self.timestamp}", self.log_file)
+
+    def run_extract(self) -> bool:
+        cfg.log("ğŸ“¦ 1ë‹¨ê³„: Git ë³€ê²½ ì •ë³´ ìˆ˜ì§‘ ì‹œì‘", self.log_file)
+        updated = extract_all_info()
+        if not updated:
+            cfg.log("ğŸ›‘ ë³€ê²½ëœ íŒŒì¼ ì—†ìŒ â†’ ì „ì²´ íŒŒì´í”„ë¼ì¸ ì¤‘ë‹¨", self.log_file)
+            return False
+        cfg.log("âœ… Git ì •ë³´ ìˆ˜ì§‘ ì™„ë£Œ", self.log_file)
+        return True
 
-    try:
-        log("ğŸ§  2. ê¸°ëŠ¥ ì˜ˆì¸¡ ë° ì „ëµ ë§¤í•‘ ì‹œì‘", log_file)
-        mm_gen_main()
-        log("âœ… 2. mm_gen ì™„ë£Œ", log_file)
-    except Exception as e:
-        log(f"âŒ mm_gen ì‹¤íŒ¨: {e}", log_file)
+    def run_strategy(self) -> bool:
+        try:
+            cfg.log("ğŸ§  2ë‹¨ê³„: ì „ëµ ì˜ˆì¸¡ ì‹œì‘", self.log_file)
+            mm_gen_main()
+            cfg.log("âœ… ì „ëµ ì˜ˆì¸¡ ì™„ë£Œ", self.log_file)
+            self.strategy_df = load_df(self.paths["strategy"])
+            return True
+        except Exception as e:
+            cfg.log(f"âŒ ì „ëµ ì˜ˆì¸¡ ì‹¤íŒ¨: {e}", self.log_file)
+            return False
 
-    try:
-        log("ğŸ“˜ 3. ê¸°ëŠ¥ ì„¤ëª… ìš”ì•½ ì‹œì‘", log_file)
-        fx_elab_main()
-        log("âœ… 3. fx_elab ì™„ë£Œ", log_file)
-    except Exception as e:
-        log(f"âŒ fx_elab ì‹¤íŒ¨: {e}", log_file)
+    def run_classify(self):
+        if self.strategy_df is None or self.strategy_df.empty:
+            cfg.log("âš ï¸ strategy_df ì—†ìŒ ë˜ëŠ” ë¹„ì–´ìˆìŒ â†’ ë¶„ë¥˜ ìƒëµ", self.log_file)
+            return
+        try:
+            cfg.log("ğŸ“Š 3ë‹¨ê³„: íŒŒì¼ ì „ëµ ë¶„ë¥˜ ì‹œì‘", self.log_file)
+            fst_mapper_main()
+            cfg.log("âœ… íŒŒì¼ ì „ëµ ë¶„ë¥˜ ì™„ë£Œ", self.log_file)
+        except Exception as e:
+            cfg.log(f"âŒ íŒŒì¼ ì „ëµ ë¶„ë¥˜ ì‹¤íŒ¨: {e}", self.log_file)
 
-    try:
-        log("ğŸ“ 4. ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ì‹œì‘", log_file)
-        gen_msg_main()
-        log("âœ… 4. gen_msg ì™„ë£Œ", log_file)
-    except Exception as e:
-        log(f"âŒ gen_msg ì‹¤íŒ¨: {e}", log_file)
+    def run_explain(self):
+        if self.strategy_df is None or self.strategy_df[self.strategy_df["Importance"] > 3].empty:
+            cfg.log("âš ï¸ ì„¤ëª… ìƒì„± ëŒ€ìƒ ì—†ìŒ â†’ ìƒëµ", self.log_file)
+            return
+        try:
+            cfg.log("ğŸ“ 4ë‹¨ê³„: ê¸°ëŠ¥ ì„¤ëª… ìƒì„± ì‹œì‘", self.log_file)
+            fx_elab_main()
+            cfg.log("âœ… ê¸°ëŠ¥ ì„¤ëª… ì™„ë£Œ", self.log_file)
+        except Exception as e:
+            cfg.log(f"âŒ ê¸°ëŠ¥ ì„¤ëª… ì‹¤íŒ¨: {e}", self.log_file)
 
-    try:
-        log("ğŸ’¸ 5. ë¹„ìš© ê³„ì‚° ì‹œì‘", log_file)
-        calculate_llm_costs_from_df(timestamp, lambda m: log(m, log_file))
-        log("âœ… 5. ë¹„ìš© ê³„ì‚° ì™„ë£Œ", log_file)
-    except Exception as e:
-        log(f"âŒ ë¹„ìš© ê³„ì‚° ì‹¤íŒ¨: {e}", log_file)
+    def run_commit_msg(self):
+        if self.strategy_df is None or self.strategy_df[self.strategy_df["Importance"] > 3].empty:
+            cfg.log("âš ï¸ ì»¤ë°‹ ë©”ì‹œì§€ ëŒ€ìƒ ì—†ìŒ â†’ ìƒëµ", self.log_file)
+            return
+        try:
+            cfg.log("âœ‰ï¸ 5ë‹¨ê³„: ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ì‹œì‘", self.log_file)
+            gen_msg_main()
+            cfg.log("âœ… ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ì™„ë£Œ", self.log_file)
+        except Exception as e:
+            cfg.log(f"âŒ ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ì‹¤íŒ¨: {e}", self.log_file)
 
-    try:
-        log("ğŸ“¦ 6. ê²°ê³¼ ë¶„ë¥˜ ì‹œì‘", log_file)
-        classify_main(timestamp)
-        log("âœ… 6. classify ì™„ë£Œ", log_file)
-    except Exception as e:
-        log(f"âŒ classify ì‹¤íŒ¨: {e}", log_file)
+    def run_upload(self):
+        try:
+            cfg.log("â˜ï¸ 6ë‹¨ê³„: ì»¤ë°‹ ë° ì—…ë¡œë“œ ì‹œì‘", self.log_file)
+            upload_main()
+            cfg.log("âœ… ì»¤ë°‹ ë° ì—…ë¡œë“œ ì™„ë£Œ", self.log_file)
+        except Exception as e:
+            cfg.log(f"âŒ ì—…ë¡œë“œ ì‹¤íŒ¨: {e}", self.log_file)
 
-    try:
-        log("ğŸ“¤ 7. ê²°ê³¼ ì—…ë¡œë“œ ì‹œì‘", log_file)
-        upload_main(timestamp)
-        log("âœ… 7. upload ì™„ë£Œ", log_file)
-    except Exception as e:
-        log(f"âŒ upload ì‹¤íŒ¨: {e}", log_file)
+    def run_all(self):
+        if not self.run_extract():
+            return
+        if not self.run_strategy():
+            return
+        self.run_classify()
+        self.run_explain()
+        self.run_commit_msg()
+        self.run_upload()
+        cfg.log("ğŸ¯ ì „ì²´ íŒŒì´í”„ë¼ì¸ ì¢…ë£Œ", self.log_file)
 
-    log("ğŸ ì „ì²´ ìë™í™” ì™„ë£Œ", log_file)
 
-run_all()
+if __name__ == "__main__":
+    runner = RunAllPipeline()
+    if len(sys.argv) == 1:
+        runner.run_all()
+    else:
+        step = sys.argv[1]
+        method = getattr(runner, f"run_{step}", None)
+        if callable(method):
+            method()
+        else:
+            print(f"âŒ ì§€ì›ë˜ì§€ ì•ŠëŠ” ì‹¤í–‰ ë‹¨ê³„: {step}")